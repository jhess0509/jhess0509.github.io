"use strict";(self.webpackChunkazimuth=self.webpackChunkazimuth||[]).push([[784],{6784:(I,g,a)=>{a.r(g),a.d(g,{LoginModule:()=>C,routes:()=>h});var m=a(4755),u=a(6868),i=a(5030);function f(e,l,t,n,r,s,p){try{var d=e[s](p),c=d.value}catch(T){return void t(T)}d.done?l(c):Promise.resolve(c).then(n,r)}var o=a(2223),v=a(865),x=a(2018);function y(e,l){1&e&&(o.TgZ(0,"span",15),o._uU(1,"Email is required"),o.qZA())}function w(e,l){1&e&&(o.TgZ(0,"span",15),o._uU(1,"Invalid email address"),o.qZA())}function k(e,l){1&e&&(o.TgZ(0,"span",15),o._uU(1,"Password is required"),o.qZA())}function Z(e,l){1&e&&(o.TgZ(0,"span",15),o._uU(1,"Password isn't long enough, minimum of 8 characters"),o.qZA())}const h=[{path:"",component:(()=>{class e{constructor(t,n,r,s){this.loginService=r,this.toastr=s,this.userModel={email:"",password:""},this.router=t,this.form=n.group({email:["",i.kI.compose([i.kI.required,i.kI.email])],password:["",i.kI.compose([i.kI.required,i.kI.minLength(8)])]}),this.email=this.form.controls.email,this.password=this.form.controls.password,this._loginService=r}ngOnInit(){localStorage.getItem("role")&&localStorage.removeItem("role")}onSubmit(t){var n=this;return function b(e){return function(){var l=this,t=arguments;return new Promise(function(n,r){var s=e.apply(l,t);function p(c){f(s,n,r,p,d,"next",c)}function d(c){f(s,n,r,p,d,"throw",c)}p(void 0)})}}(function*(){if(n.form.valid){if(null!=n.form.getRawValue()){const r=n.form.getRawValue();null!=r.email&&(n.userModel.email=r.email),null!=r.password&&(n.userModel.password=r.password)}yield n._loginService.signIn(n.userModel).toPromise()}})()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(u.F0),o.Y36(i.qu),o.Y36(v.r),o.Y36(x._W))},e.\u0275cmp=o.Xpm({type:e,selectors:[["az-login"]],decls:23,vars:8,consts:[[1,"login-container"],[1,"col-xl-4","col-md-6","col-10","mx-auto"],[1,"card"],[1,"card-body","text-center"],[1,"card-title"],[1,"text-left",3,"formGroup","ngSubmit"],[1,"form-group"],["placeholder","Email","type","text",1,"form-control","checking-field",3,"formControl"],["class","help-block text-danger",4,"ngIf"],["placeholder","Password","type","password",1,"form-control","checking-field",3,"formControl"],[1,"form-group","d-flex","justify-content-between"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","login-keep",1,"custom-control-input","checkbox-main"],["for","login-keep",1,"custom-control-label"],["type","submit",1,"btn","btn-main","btn-block",3,"disabled"],[1,"help-block","text-danger"]],template:function(t,n){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),o._uU(5,"Sign in to CPR"),o.qZA(),o.TgZ(6,"form",5),o.NdJ("ngSubmit",function(){return n.onSubmit(n.form.value)}),o.TgZ(7,"div",6),o._UZ(8,"input",7),o.YNc(9,y,2,0,"span",8),o.YNc(10,w,2,0,"span",8),o.qZA(),o.TgZ(11,"div",6),o._UZ(12,"input",9),o.YNc(13,k,2,0,"span",8),o.YNc(14,Z,2,0,"span",8),o.qZA(),o.TgZ(15,"div",10)(16,"div",11),o._UZ(17,"input",12),o.TgZ(18,"label",13),o._uU(19,"Keep me signed in"),o.qZA()()(),o.TgZ(20,"div",6)(21,"button",14),o._uU(22,"Sign in"),o.qZA()()()()()()()),2&t&&(o.xp6(6),o.Q6J("formGroup",n.form),o.xp6(2),o.Q6J("formControl",n.email),o.xp6(1),o.Q6J("ngIf",n.form.get("email").touched&&n.form.get("email").hasError("required")),o.xp6(1),o.Q6J("ngIf",n.form.get("email").touched&&n.form.get("email").hasError("invalidEmail")),o.xp6(2),o.Q6J("formControl",n.password),o.xp6(1),o.Q6J("ngIf",n.form.get("password").touched&&n.form.get("password").hasError("required")),o.xp6(1),o.Q6J("ngIf",n.form.get("password").touched&&n.form.get("password").hasError("minlength")),o.xp6(7),o.Q6J("disabled",!n.form.valid))},dependencies:[m.O5,i._Y,i.Fj,i.JJ,i.JL,i.oH,i.sg],styles:['body:after{content:\'{"main-color":"#242D3A","default-color":"#fff","dark-color":"#000","primary-color":"#024a88","success-color":"#2d922d","warning-color":"#f79a17","danger-color":"#bf1725","info-color":"#248dad","sidebar-bg-color":"#344154","gray":"#555","gray-light":"#ccc"}\';display:none}.login-container{display:flex;align-items:center;height:100%;width:100%;position:absolute}.login-container .card{padding:15px}.login-container .card .btn-link{padding:0}.login-container .card .btn-link.forgot{font-size:14px}.login-container .card .btn-link:hover{color:#242d3a}.auth-sep{margin-top:32px;margin-bottom:24px;line-height:20px;font-size:15px;text-align:center;display:block;position:relative}.auth-sep>span{display:table-cell;width:30%;white-space:nowrap;padding:0 14px;color:#555}.auth-sep>span>span{margin-top:-11px;display:block;font-weight:300}.auth-sep:before,.auth-sep:after{border-top:solid 1px #ccc;content:"";height:1px;width:35%;display:table-cell}.login-help{margin:0;padding:0}.login-help li{list-style:none;display:inline-block;margin-left:10px}.login-help li:first-child{margin-left:0}.login-help li i{cursor:pointer;transition:all .1s ease;color:#fff;padding:9px 9px 6px;font-size:12px;background-color:#242d3a}.login-help li i.socicon-facebook{background-color:#3b5998}.login-help li i.socicon-twitter{background-color:#55acee}.login-help li i.socicon-google{background-color:#dd4b39}.login-help li i:hover{opacity:.9}\n'],encapsulation:2}),e})(),pathMatch:"full"}];let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[m.ez,i.u5,i.UX,u.Bz.forChild(h)]}),e})()}}]);