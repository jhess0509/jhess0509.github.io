<div class="row">
    <div class="col">
        <div widget class="card">
            <div class="card-header">
                <span class="text-uppercase">Class List</span>    
            </div>
            
            <div class="card-body widget-body">   
                <div class="card-body widget-body row mbm-20">
                    <div class="col-md-4 col-12">   
                        <h6>Product Filter</h6>             
                        <ng-select [items]="productFilters" 
                            bindLabel="label" 
                            bindValue="value" 
                            [multiple]="true"
                            (change)="onFilterChangeProduct($event)"
                            searchPlaceholder="Search Products"
                            [(ngModel)]="productFilterList">
                        </ng-select>
                    </div>
                    
                    <div class="col-md-4 col-12 bottom-15">   
                        <h6>Status Filter</h6>             
                        <ng-select [items]="statusFilters" 
                            bindLabel="label" 
                            bindValue="value" 
                            [multiple]="true"
                            (change)="onFilterChangeStatus($event)"
                            searchPlaceholder="Search Status"
                            [(ngModel)]="statusFilterList">
                        </ng-select>
                    </div>
                    <div class="col-md-2">
                        <div>
                            <h6>Start Date</h6>  
                          <input (input)="onFilterChangeDateTime($event, table)" type="date" [(ngModel)]="startDateFilter" id="input-start-date" class="rounded-input">
                        </div>
                      </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <h6>End Date</h6>
                            <input (input)="onFilterChangeDateTime($event, table)" type="date" [(ngModel)]="endDateFilter" id="input-end-date" class="rounded-input">
                        </div>
                    </div>
                </div> 
                <div class="card-body widget-body row mbm-20">
                    <div class="col-md-4 col-12 bottom-15">   
                        <h6> Search Name</h6>
                        <input (input)="onSearchName($event, table)" [(ngModel)]="searchName" id="input-8" class='rounded-input'>
                    </div>
                    <div class="col-md-4 col-12 bottom-15">   
                        <h6> Search ID</h6>
                        <input (input)="onSearchID($event, table)" [(ngModel)]="searchID" id="input-9" class='rounded-input'>
                    </div>
                    <div class="col-md-2 col-12 d-flex align-items-center justify-content-center">   
                        <button (click)="exportToPDF(table)" class="custom-button">PDF</button>
                    </div>
                    <div class="col-md-2 col-12 d-flex align-items-center justify-content-center" col-12 text-center>   
                        <button (click)="resetFilters(table)" class='custom-button'>Reset</button>
                    </div>
                    <div class="col-md-2 col-12 d-flex align-items-center justify-content-center" col-12 text-center>   
                        <button (click)="applyFilters(table)" class='custom-button'>Apply</button>
                    </div>
                </div>   

                <ngx-datatable
                    #table
                    class="bootstrap"
                    [headerHeight]="50"
                    [limit]="10"
                    [columnMode]="'force'"
                    [footerHeight]="50"
                    [rowHeight]="'auto'"
                    [rows]="rows"
                    [selected]="selected"
                    [selectionType]="selection">
                    <ngx-datatable-column
                        [width]="30"
                        [sortable]="false"
                        [canAutoResize]="false"
                        [draggable]="true"
                        [resizeable]="true"
                        [headerCheckboxable]="false"
                        [checkboxable]="false">
                    </ngx-datatable-column>
                    <ngx-datatable-column name="id">
                        <ng-template ngx-datatable-header-template>
                            <span>ID</span>
                          </ng-template>
                        <ng-template ngx-datatable-cell-template let-value="value" let-row="row">
                            <div (click)="onActivate(row)" class="id-cell">
                                {{ value }}
                            </div>
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="status">
                        <ng-template ngx-datatable-header-template>
                            <span>Status</span>
                          </ng-template>
                        <ng-template ngx-datatable-cell-template let-value="value">
                            {{ value.charAt(0).toUpperCase() + value.slice(1) }}
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="product">
                        <ng-template ngx-datatable-header-template>
                            <span>Booked Product</span>
                          </ng-template>
                        <ng-template ngx-datatable-cell-template let-value="value">
                            {{value}}
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="quantity_total">
                        <ng-template ngx-datatable-header-template>
                            <span>#</span>
                          </ng-template>
                          <ng-template ngx-datatable-cell-template let-row="row">
                            {{ row.quantity_total }}
                          </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="booked">
                        <ng-template ngx-datatable-header-template>
                            <span>Booked By</span>
                          </ng-template>
                        <ng-template ngx-datatable-cell-template let-value="value">
                            {{value}}
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="email">
                        <ng-template ngx-datatable-header-template>
                            <span>Email</span>
                          </ng-template>
                        <ng-template ngx-datatable-cell-template let-value="value">
                            {{value}}
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="phone">
                        <ng-template ngx-datatable-header-template>
                            <span>Phone #</span>
                          </ng-template>
                        <ng-template ngx-datatable-cell-template let-value="value">
                            {{value}}
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="start">
                        <ng-template ngx-datatable-header-template>
                            <span>Start Date</span>
                          </ng-template>
                        <ng-template ngx-datatable-cell-template let-value="value">
                            {{value | date: 'MMM d, y, h:mm a'}}
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="end">
                        <ng-template ngx-datatable-header-template>
                            <span>End Date</span>
                          </ng-template>
                        <ng-template ngx-datatable-cell-template let-value="value">
                            {{value | date: 'MMM d, y, h:mm a'}}
                        </ng-template>
                    </ngx-datatable-column>
                    
                </ngx-datatable>  
            </div>
        </div>
    </div>
</div>
<!--
    <ngx-datatable-column name="Name">
                        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                            <span
                            title="Double click to edit"
                            (dblclick)="editing[rowIndex + '-name'] = true"
                            *ngIf="!editing[rowIndex + '-name']">
                            {{value}}
                            </span>
                            <input
                            autofocus
                            (blur)="updateValue($event, 'name', rowIndex)"
                            *ngIf="editing[rowIndex+ '-name']"
                            type="text"
                            [value]="value"
                            />
                        </ng-template>
                    </ngx-datatable-column>
                    <ngx-datatable-column name="Gender">
                        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
                            <span
                            title="Double click to edit"
                            (dblclick)="editing[rowIndex + '-gender'] = true"
                            *ngIf="!editing[rowIndex + '-gender']">
                            {{value}}
                            </span>
                            <select
                            *ngIf="editing[rowIndex + '-gender']"
                            (change)="updateValue($event, 'gender', rowIndex)"
                            [value]="value">
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            </select>
                        </ng-template>
                    </ngx-datatable-column>
-->